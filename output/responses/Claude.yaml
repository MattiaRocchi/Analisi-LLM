responses:
  - id: Q1
    query: |
      SELECT * FROM cypher('agri_graph', $$
        MATCH (f:AgriFarm {id: 'urn:ngsi-ld:AgriFarm:unibo:c29ee13f6e871b9588c9b3d58e43df23'})
        MATCH (p:AgriParcel)-[r:belongsTo]->(f)
        RETURN f, r, p
      $$) as (f agtype, r agtype, p agtype);

  - id: Q2
    query: |
      SELECT * FROM cypher('agri_graph', $$
        MATCH (p:AgriParcel {colture: 'Kiwi G3'})
        MATCH (d:Device)-[r:belongsTo]->(p)
        RETURN p, r, d
      $$) as (p agtype, r agtype, d agtype);

  - id: Q3
    query: |
      SELECT * FROM cypher('agri_graph', $$
        MATCH (d:Device)
        WHERE 'soilMoisture' = ANY(d.controlledProperty)
        MATCH (d)-[r]-(n)
        RETURN d, r, n
      $$) as (d agtype, r agtype, n agtype);

  - id: Q4
    query: |
      SELECT * FROM cypher('agri_graph', $$
        MATCH (f:AgriFarm {id: 'urn:ngsi-ld:AgriFarm:unibo:c29ee13f6e871b9588c9b3d58e43df23'})
        MATCH (f)<-[r1:belongsTo]-(p:AgriParcel)
        MATCH (p)<-[r2:belongsTo]-(d:Device)
        WHERE 'soilMoisture' = ANY(d.controlledProperty)
        RETURN f, r1, p, r2, d
      $$) as (f agtype, r1 agtype, p agtype, r2 agtype, d agtype);

  - id: Q5
    query: |
      SELECT * FROM cypher('agri_graph', $$
        MATCH (f:AgriFarm {id: 'urn:ngsi-ld:AgriFarm:unibo:c29ee13f6e871b9588c9b3d58e43df23'})
        MATCH (p:AgriParcel)-[r:belongsTo]->(f)
        WHERE p.colture = 'Kiwi G3'
        RETURN f, r, p
      $$) as (f agtype, r agtype, p agtype);

  - id: Q6
    query: |
      SELECT * FROM cypher('agri_graph', $$
        MATCH (p:AgriParcel {irrigationSystemType: 'Drip irrigation'})
        MATCH (d:Device)-[r:belongsTo]->(p)
        WHERE 'dripper' = ANY(d.controlledProperty)
        RETURN p, r, d
      $$) as (p agtype, r agtype, d agtype);

  - id: Q7
    query: |
      SELECT * FROM cypher('agri_graph', $$
        MATCH (d:Device)
        WHERE 'soilMoisture' = ANY(d.controlledProperty) AND d.value[0] > -2500
        WITH d ORDER BY d.value[0] ASC LIMIT 1
        MATCH (d)-[r]-(n)
        RETURN d, r, n
      $$) as (d agtype, r agtype, n agtype);

  - id: Q8
    query: |
      SELECT * FROM cypher('agri_graph', $$
        MATCH (d:Device)
        WHERE d.location IS NOT NULL
        WITH d, point({latitude: 44.235, longitude: 11.799}) AS targetPoint
        WITH d, point.distance(point({latitude: toFloat(split(replace(d.location, 'POINT (', ''), ')')[0]), longitude: toFloat(split(replace(d.location, 'POINT (', ''), ')')[1])}), targetPoint) AS distance
        ORDER BY distance ASC LIMIT 1
        MATCH (d)-[r]-(n)
        RETURN d, r, n
      $$) as (d agtype, r agtype, n agtype);

  - id: Q9
    query: |
      SELECT * FROM cypher('agri_graph', $$
        MATCH (p:AgriParcel)<-[:belongsTo]-(hub:Device)-[:hasDevice]->(d:Device)
        WITH p, count(d) AS deviceCount
        ORDER BY deviceCount DESC LIMIT 1
        MATCH (p)-[r]-(n)
        RETURN p, r, n
      $$) as (p agtype, r agtype, n agtype);

  - id: Q10
    query: |
      SELECT * FROM cypher('agri_graph', $$
        MATCH (d:Device)
        WHERE 'temperature' = ANY(d.controlledProperty)
        WITH d ORDER BY d.value[0] ASC LIMIT 1
        MATCH (d)-[r]-(n)
        RETURN d, r, n
      $$) as (d agtype, r agtype, n agtype);