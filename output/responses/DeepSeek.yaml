responses:
  - id: "Q1"
    query: |
      SELECT * FROM cypher('agri_graph', $$
        MATCH (f:AgriFarm {name: 'ZESPRI AZ. AGR. DALLE FABBRICHE ANDREA'})<-[:belongsTo]-(p:AgriParcel)
        RETURN f, p, relationships(p) as r
      $$) as (m agtype, r agtype, n agtype)

  - id: "Q2"
    query: |
      SELECT * FROM cypher('agri_graph', $$
        MATCH (p:AgriParcel {id: 'urn:ngsi-ld:AgriParcel:unibo:647c399b2188ff484f7416389f94885c'})<-[:belongsTo]-(d:Device)
        RETURN p, d, relationships(d) as r
      $$) as (m agtype, r agtype, n agtype)

  - id: "Q3"
    query: |
      SELECT * FROM cypher('agri_graph', $$
        MATCH (d:Device)
        WHERE 'soilMoisture' IN d.controlledProperty
        RETURN d, relationships(d) as r
      $$) as (m agtype, r agtype, n agtype)

  - id: "Q4"
    query: |
      SELECT * FROM cypher('agri_graph', $$
        MATCH (f:AgriFarm {name: 'ZESPRI AZ. AGR. DALLE FABBRICHE ANDREA'})<-[:belongsTo]-(p:AgriParcel)<-[:belongsTo]-(d:Device)
        WHERE 'soilMoisture' IN d.controlledProperty
        RETURN f, p, d, relationships(p) as r1, relationships(d) as r2
      $$) as (m agtype, r agtype, n agtype)

  - id: "Q5"
    query: |
      SELECT * FROM cypher('agri_graph', $$
        MATCH (f:AgriFarm {name: 'ZESPRI AZ. AGR. DALLE FABBRICHE ANDREA'})<-[:belongsTo]-(p:AgriParcel)
        WHERE p.colture CONTAINS 'Kiwi'
        RETURN f, p, relationships(p) as r
      $$) as (m agtype, r agtype, n agtype)

  - id: "Q6"
    query: |
      SELECT * FROM cypher('agri_graph', $$
        MATCH (p:AgriParcel)<-[:belongsTo]-(d:Device)
        WHERE 'dripper' IN d.controlledProperty AND p.id CONTAINS 'T1'
        RETURN p, d, relationships(d) as r
      $$) as (m agtype, r agtype, n agtype)

  - id: "Q7"
    query: |
      SELECT * FROM cypher('agri_graph', $$
        MATCH (d:Device)
        WHERE 'soilMoisture' IN d.controlledProperty
        WITH d ORDER BY d.value[0] ASC LIMIT 1
        RETURN d, relationships(d) as r
      $$) as (m agtype, r agtype, n agtype)

  - id: "Q8"
    query: |
      SELECT * FROM cypher('agri_graph', $$
        MATCH (d:Device)
        WHERE d.location IS NOT NULL
        WITH d, point(d.location) as point1, point('POINT(11.799 44.235)') as point2
        WITH d, distance(point1, point2) as dist ORDER BY dist ASC LIMIT 1
        RETURN d, relationships(d) as r
      $$) as (m agtype, r agtype, n agtype)

  - id: "Q9"
    query: |
      SELECT * FROM cypher('agri_graph', $$
        MATCH (p:AgriParcel)<-[:belongsTo]-(d:Device)
        WITH p, count(d) as device_count ORDER BY device_count DESC LIMIT 1
        MATCH (p)<-[:belongsTo]-(devices:Device)
        RETURN p, devices, relationships(p) as r1, relationships(devices) as r2
      $$) as (m agtype, r agtype, n agtype)

  - id: "Q10"
    query: |
      SELECT * FROM cypher('agri_graph', $$
        MATCH (d:Device)
        WHERE 'temperature' IN d.controlledProperty
        WITH d ORDER BY d.value[0] ASC LIMIT 1
        RETURN d, relationships(d) as r
      $$) as (m agtype, r agtype, n agtype)